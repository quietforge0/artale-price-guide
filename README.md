# Artale 價格指南 - 卷軸計算器

智能的卷軸強化計算工具，幫助玩家計算最佳的卷軸組合方案。

## 🚀 快速開始

### 開發模式

```bash
# 啟動開發服務器（會先運行健康檢查測試）
pnpm dev

# 快速啟動（跳過測試）
pnpm dev:fast
```

### 測試指令

```bash
# 完整測試套件
pnpm test

# 健康檢查（開發前快速驗證）
pnpm test:health

# 核心功能測試
pnpm test:quick

# 全面測試（包含整合測試和Fuzz測試）
pnpm test:full

# 測試覆蓋率報告
pnpm test:coverage

# 測試UI界面
pnpm test:ui
```

## 🧪 測試架構

本專案建立了完整的多層次測試體系：

### 📋 健康檢查測試 (`pnpm test:health`)

- **用途**: 開發前快速驗證核心功能
- **包含**: 6 個關鍵測試，執行時間 < 2 秒
- **檢查項目**: 核心計算、經典案例、邊界條件、效能基準

### 🔬 單元測試 (`src/test/unit/`)

- **核心計算函數測試**: `calculateScrollCombinations`、`getScrollAttributes`
- **真實場景測試**: 套服敏捷 2→22、手套多屬性組合
- **邊界條件測試**: 0%/100%成功率、極值處理
- **效能測試**: 計算時間限制驗證

### 🔄 整合測試 (`src/test/integration/`)

- **全裝備覆蓋**: 29 種裝備類型 × 所有可用卷軸
- **全屬性測試**: 13 種屬性的單/雙/三屬性組合
- **自動化案例生成**: 低/中/高需求的系統性測試
- **交叉驗證**: 不同裝備類型間的一致性檢查

### 🎲 Fuzz 測試 (`src/test/fuzz/`)

- **Property-based 測試**: 100 次隨機輸入驗證
- **邊界值 Fuzz**: 極值組合穩定性測試
- **大規模組合**: 所有裝備 × 屬性的全面覆蓋
- **機率一致性**: 相同輸入產生相同結果驗證

### 🎯 E2E 測試 (`src/test/e2e/`)

- **完整用戶流程**: 選擇裝備 → 設定目標 → 查看結果
- **UI 交互測試**: 屬性選擇器、載入狀態、結果展開
- **錯誤處理**: 無效輸入、不可能目標的處理
- **回歸測試**: 已知正確案例的持續驗證

## 📊 測試保障

- **🔒 零錯誤政策**: 任何代碼變更都會被全面驗證
- **📈 100%場景覆蓋**: 所有裝備、所有卷軸、所有屬性組合
- **⚡ 效能保證**: 嚴格的時間限制確保用戶體驗
- **🎯 準確性驗證**: 機率計算、屬性累加的數學正確性
- **🔄 回歸防護**: 已知正確案例的持續驗證

## 💡 開發工作流程

1. **啟動開發**: `pnpm dev` 會自動運行健康檢查
2. **代碼修改**: 修改功能代碼
3. **快速驗證**: `pnpm test:health` 驗證核心功能
4. **完整測試**: `pnpm test:full` 運行全面測試
5. **提交前檢查**: `pnpm test:coverage` 確保測試覆蓋率

## 🔧 功能特色

- ✅ 智能卷軸組合計算
- ✅ 期望值與成本分析
- ✅ 詳細成功/失敗案例顯示
- ✅ 多屬性需求支持
- ✅ 所有裝備類型覆蓋
- ✅ 智能停損策略
- ✅ 即時計算與結果排序

## 🏗 技術架構

- **前端**: React + TypeScript + Tailwind CSS
- **建構工具**: Vite
- **測試框架**: Vitest + Testing Library
- **包管理**: pnpm
